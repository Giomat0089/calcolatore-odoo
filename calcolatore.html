<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Calcolatore Risparmio</title>
  <style>
    :root{
      --bg:#000; --card:#111; --border:#0f0; --accent:#ffc400; --accent-2:#00cc44; --muted:#999;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:#fff;font-family:system-ui,Arial,sans-serif}
    h1{margin:20px 0;text-align:center}

    .wrap{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:1fr 320px;gap:24px;padding:16px}

    .apps{display:grid;grid-template-columns:repeat(6,1fr);gap:14px}
    .app{
      background:var(--card);
      border:2px solid var(--border); /* verde base */
      border-radius:12px;
      padding:12px;
      text-align:center;
      cursor:pointer;
      transition:border-color .18s;
      width:100%;
      max-width:100%;
      height:140px;            /* altezza fissa */
      display:flex;            /* centratura contenuti */
      flex-direction:column;
      justify-content:center;
      align-items:center;
      box-sizing:border-box;
    }
    .app:hover {
      border-color:var(--border); /* resta verde anche al passaggio mouse */
      transform:none;
    }
    .app.active {
      border-color:var(--accent); /* giallo/arancio quando attivo */
      box-shadow:none;
    }
    .app img{width:44px;height:44px;margin-bottom:8px;display:block}
    .app .lbl{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

    .side{background:#101010;border-radius:12px;padding:18px;position:sticky;top:12px;height:fit-content}
    .side h2{margin:0 0 8px;color:var(--accent)}
    .meta{color:var(--muted);font-size:12px;margin-bottom:8px}

    .users{display:flex;align-items:center;gap:10px;margin:10px 0 14px}
    .users button{background:var(--accent-2);border:none;color:#000;font-weight:700;border-radius:8px;padding:6px 10px;cursor:pointer}
    .users .count{min-width:72px;text-align:center}

    .list{background:#0c0c0c;border-radius:10px;padding:10px;max-height:260px;overflow:auto;margin:8px 0 12px}
    .row{display:flex;justify-content:space-between;gap:10px;padding:6px 4px;border-bottom:1px dashed #2a2a2a}
    .row:last-child{border-bottom:none}
    .name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .price{white-space:nowrap}

    .tot{margin-top:10px;border-top:2px solid #2a2a2a;padding-top:10px}
    .line{display:flex;justify-content:space-between;margin:6px 0}
    .strong{font-weight:700}
    .accent{color:#39d353}
    .cta{display:block;margin-top:12px;background:#25d366;color:#fff;text-align:center;font-weight:700;border-radius:10px;padding:12px;text-decoration:none}
    .note{color:#aaa;font-size:12px;margin-top:10px}

    /* --- RESPONSIVE --- */
    @media (max-width: 1024px) {
      .apps {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    @media (max-width: 768px) {
      .wrap {
        grid-template-columns: 1fr;
      }
      .apps {
        grid-template-columns: repeat(2, 1fr);
      }
      .side {
        position: relative;
        top: auto;
        margin-top: 20px;
      }
    }
  </style>
</head>
<body>
  <h1>RISPARMIA DENARO E STRESS!</h1>

  <div class="wrap">
    <!-- GRIGLIA APP -->
    <div class="apps" id="apps">
      <div class="app" data-name="Asana"       data-price="240"  data-label="€ 20/mese/utente"         ><img src="img/asana.svg" alt=""><div class="lbl">Progetti</div></div>
      <div class="app" data-name="QuickBooks"  data-price="912"  data-label="€ 76/mese/utente"         ><img src="img/quickbooks.svg" alt=""><div class="lbl">Contabilità</div></div>
      <div class="app" data-name="Shopify"     data-price="948"  data-label="1% + € 79/mese"           ><img src="img/shopify.svg" alt=""><div class="lbl">E-commerce</div></div>
      <div class="app" data-name="Salesforce"  data-price="1980" data-label="€ 165/mese/utente"        ><img src="img/salesforce.svg" alt=""><div class="lbl">CRM</div></div>
      <div class="app" data-name="Slack"       data-price="169"  data-label="€ 14,10/mese/utente"      ><img src="img/slack.svg" alt=""><div class="lbl">Comunicazioni</div></div>
      <div class="app" data-name="Notion"      data-price="180"  data-label="€ 15/mese/utente"         ><img src="img/notion.svg" alt=""><div class="lbl">Knowledge</div></div>

      <div class="app" data-name="BambooHR"    data-price="1188" data-label="€ 99/mese/utente"         ><img src="img/bamboohr.svg" alt=""><div class="lbl">Risorse umane</div></div>
      <div class="app" data-name="DocuSign"    data-price="420"  data-label="€ 35/mese/utente"         ><img src="img/docusign.svg" alt=""><div class="lbl">Firma</div></div>
      <div class="app" data-name="InFlow"      data-price="349"  data-label="€ 349/anno"               data-multiply="false"><img src="img/inflow.svg" alt=""><div class="lbl">Magazzino</div></div>
      <div class="app" data-name="WordPress"   data-price="150"  data-label="€ 12,50/mese"             data-multiply="false"><img src="img/wordpress.svg" alt=""><div class="lbl">Sito web</div></div>
      <div class="app" data-name="SharePoint"  data-price="150"  data-label="€ 12,50/mese/utente"      ><img src="img/sharepoint.svg" alt=""><div class="lbl">Documenti</div></div>
      <div class="app" data-name="Lightspeed"  data-price="1788" data-label="€ 149/mese/utente"        ><img src="img/lightspeed.svg" alt=""><div class="lbl">Punto vendita</div></div>

      <div class="app" data-name="Expensify"   data-price="192"  data-label="€ 16/mese/utente"         ><img src="img/expensify.svg" alt=""><div class="lbl">Note spese</div></div>
      <div class="app" data-name="Calendly"    data-price="192"  data-label="€ 16/mese/utente"         ><img src="img/calendly.svg" alt=""><div class="lbl">Appuntamenti</div></div>
      <div class="app" data-name="Coupa"       data-price="2500" data-label="€ 2.500/anno"             data-multiply="false"><img src="img/coupa.svg" alt=""><div class="lbl">Acquisti</div></div>
      <div class="app" data-name="Hootsuite"   data-price="249"  data-label="€ 20,75/mese/utente"      ><img src="img/hootsuite.svg" alt=""><div class="lbl">Social</div></div>
      <div class="app" data-name="ClickUp"     data-price="144"  data-label="€ 12/mese/utente"         ><img src="img/clickup.svg" alt=""><div class="lbl">Pianificazione</div></div>
      <div class="app" data-name="Google WS"   data-price="240"  data-label="€ 20/mese/utente"         ><img src="img/hubspot.svg" alt=""><div class="lbl">Posta elettronica</div></div>

      <div class="app" data-name="Harvest"     data-price="168"  data-label="€ 14/mese/utente"         ><img src="img/harvest.svg" alt=""><div class="lbl">Fogli ore</div></div>
      <div class="app" data-name="Zendesk"     data-price="1380" data-label="€ 115/mese/utente"        ><img src="img/zendesk.svg" alt=""><div class="lbl">Helpdesk</div></div>
      <div class="app" data-name="Eventbrite"  data-price="3500" data-label="€ 3.500/anno (stima)"     data-multiply="false"><img src="img/eventbrite.svg" alt=""><div class="lbl">Eventi</div></div>
      <div class="app" data-name="Katana MRP"  data-price="359"  data-label="€ 359/anno"               data-multiply="false"><img src="img/katanamrp.svg" alt=""><div class="lbl">MSP</div></div>
      <div class="app" data-name="Booqable"    data-price="948"  data-label="€ 79/mese"                data-multiply="false"><img src="img/booqable.svg" alt=""><div class="lbl">Noleggi</div></div>
    </div>

    <!-- SIDEBAR -->
    <aside class="side">
      <h2>App da sostituire</h2>
      <div class="meta">per <span id="uMeta">1 utente</span> &nbsp; /anno</div>

      <div id="list" class="list"><div style="color:#777;font-size:13px">Nessuna app selezionata.</div></div>

      <div class="tot">
        <div class="line"><span>TOTALE</span><span id="total">0,00 €</span></div>
      </div>

      <h2 style="margin-top:18px">Tutte le app con GioGioDigital</h2>
      <div class="meta">per <span id="uMeta2">1 utente</span></div>
      <div class="line"><span>TOTALE</span><span id="odoo">207 €</span></div>

      <h2 style="margin-top:18px">Un risparmio di</h2>
      <div class="line strong accent"><span></span><span id="save">0,00 € /anno</span></div>

      <!-- Bottone WhatsApp -->
      <a class="cta" href="https://wa.me/393517247269?text=Ciao!+Ho+visto+il+calcolatore+e+voglio+più+informazioni" target="_blank">
        CONTATTACI SU WHATSAPP
      </a>

      <div class="note">* Alcune app hanno costi variabili (percentuali o fee per ticket). Nel totale conteggiamo solo le parti fisse o per utente indicate.</div>

      <div class="users">
        <button id="minus">−</button>
        <div class="count" id="uCount">1 utente</div>
        <button id="plus">+</button>
      </div>
    </aside>
  </div>

  <script>
    const fmt = v => v.toLocaleString('it-IT',{maximumFractionDigits:0});
    const apps = [...document.querySelectorAll('.app')];
    const list = document.getElementById('list');
    const totalEl = document.getElementById('total');
    const saveEl  = document.getElementById('save');
    const odooEl  = document.getElementById('odoo');
    const uMeta   = document.getElementById('uMeta');
    const uMeta2  = document.getElementById('uMeta2');
    const uCount  = document.getElementById('uCount');
    const minus   = document.getElementById('minus');
    const plus    = document.getElementById('plus');

    let users = 1;
    const ODOO_PER_USER = 142.80; // €/anno per utente

    function updateUsers(){
      uMeta.textContent  = users + (users===1?' utente':' utenti');
      uMeta2.textContent = users + (users===1?' utente':' utenti');
      uCount.textContent = users + (users===1?' utente':' utenti');
    }

    function calc(){
      let rows = [];
      let total = 0;

      apps.forEach(a=>{
        if(!a.classList.contains('active')) return;
        const name = a.dataset.name || 'App';
        const price = parseFloat(a.dataset.price||'0');
        const multiply = (a.dataset.multiply!=='false');
        const label = a.dataset.label || (multiply ? `€ ${fmt(price)} / utente / anno` : `€ ${fmt(price)} / anno`);

        const rowPrice = multiply ? price*users : price;
        total += rowPrice;

        rows.push(`<div class="row"><div class="name">${name} <span style="color:#888">— ${label}</span></div><div class="price">€ ${fmt(rowPrice)}</div></div>`);
      });

      list.innerHTML = rows.length ? rows.join('') : '<div style="color:#777;font-size:13px">Nessuna app selezionata.</div>';

      totalEl.textContent = `${fmt(total)} €`;
      const odooTotal = ODOO_PER_USER * users;
      odooEl.textContent = `${fmt(odooTotal)} €`;

      const saving = Math.max(0, total - odooTotal);
      saveEl.textContent = `${fmt(saving)} € /anno`;

      updateUsers();
    }

    apps.forEach(a=>{
      a.addEventListener('click',()=>{
        a.classList.toggle('active');
        calc();
      });
    });

    minus.addEventListener('click',()=>{ if(users>1){ users--; calc(); } });
    plus.addEventListener('click',()=>{ users++; calc(); });

    calc();
  </script>
</body>
</html>
