<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Calcolatore Risparmio</title>
  <style>
    :root {
      --bg:#000;
      --card:#111;
      --muted:#444;
      --accent:#00cc44;
      --accent-2:#ffc000;
      --danger:#ff4444;
      --text:#fff;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,Arial,sans-serif;line-height:1.4}
    h1{margin:0 0 24px;text-align:center;letter-spacing:.4px}
    .wrap{max-width:1200px;margin:0 auto;padding:24px}
    .layout{display:flex;gap:32px;align-items:flex-start}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:16px;flex:1}
    .card{background:var(--card);padding:16px;border-radius:12px;text-align:center;cursor:pointer;transition:.2s}
    .card.active{outline:2px solid var(--accent)}
    .card svg{width:40px;height:40px;display:block;margin:0 auto 8px}
    .sidebar{width:300px;background:var(--card);padding:20px;border-radius:12px}
    .sidebar h2{margin:0 0 12px;color:var(--accent-2)}
    .sidebar p{margin:6px 0}
    .btn{display:block;width:100%;padding:12px;margin-top:16px;background:var(--accent);color:#000;font-weight:bold;text-align:center;border-radius:8px;text-decoration:none}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>RISPARMIA DENARO E STRESS!</h1>
    <div class="layout">
      <!-- Griglia App -->
      <div class="grid" id="apps">
        <div class="card" data-name="Asana" data-price="20">
          <svg fill="#fff"><circle cx="20" cy="20" r="18"/></svg>
          <span>Progetti</span>
        </div>
        <div class="card" data-name="Quickbooks" data-price="76">
          <svg fill="#0f0"><rect x="5" y="5" width="30" height="30"/></svg>
          <span>Contabilità</span>
        </div>
        <div class="card" data-name="Shopify" data-price="79">
          <svg fill="#0c6"><polygon points="5,35 35,35 20,5"/></svg>
          <span>E-commerce</span>
        </div>
        <div class="card" data-name="Notion" data-price="14">
          <svg stroke="#fff" fill="none"><rect x="5" y="5" width="30" height="30"/></svg>
          <span>Knowledge</span>
        </div>
        <div class="card" data-name="Salesforce" data-price="165">
          <svg fill="#09f"><circle cx="20" cy="20" r="18"/></svg>
          <span>CRM</span>
        </div>
        <div class="card" data-name="Slack" data-price="14.1">
          <svg fill="#f0f"><circle cx="20" cy="20" r="5"/><circle cx="30" cy="10" r="5"/><circle cx="10" cy="30" r="5"/></svg>
          <span>Comunicazioni</span>
        </div>
        <div class="card" data-name="DocuSign" data-price="38">
          <svg fill="#ff0"><rect x="10" y="10" width="20" height="20"/></svg>
          <span>Firma</span>
        </div>
        <div class="card" data-name="WordPress" data-price="25">
          <svg stroke="#fff" fill="none"><circle cx="20" cy="20" r="18"/></svg>
          <span>Sito web</span>
        </div>
      </div>

      <!-- Sidebar calcolo -->
      <div class="sidebar">
        <h2>Calcolatore</h2>
        <div id="summary"></div>
        <p><b>Numero utenti</b></p>
        <button onclick="updateUsers(-1)">-</button>
        <span id="users">1</span> utente
        <button onclick="updateUsers(1)">+</button>
        <p id="saving"></p>
        <a href="mailto:info@tuosito.it" class="btn">CONTATTACI</a>
      </div>
    </div>
  </div>

<script>
const apps = document.querySelectorAll('.card');
const summary = document.getElementById('summary');
const saving = document.getElementById('saving');
const usersEl = document.getElementById('users');

let selected = [];
let users = 1;

apps.forEach(app=>{
  app.addEventListener('click',()=>{
    app.classList.toggle('active');
    const name=app.dataset.name;
    if(selected.includes(name)){
      selected=selected.filter(x=>x!==name);
    }else{
      selected.push(name);
    }
    calc();
  });
});

function updateUsers(n){
  users=Math.max(1,users+n);
  usersEl.textContent=users;
  calc();
}

function calc(){
  let total=0;
  apps.forEach(app=>{
    if(app.classList.contains('active')){
      total += parseFloat(app.dataset.price)*users*12;
    }
  });
  const odoo = 142.8*users;
  const diff = total - odoo;
  summary.innerHTML = `
    <p>Totale app da sostituire: <b style="color:var(--danger)">€${total.toFixed(2)}/anno</b></p>
    <p>Tutte le app Odoo: <b style="color:var(--accent)">€${odoo.toFixed(2)}/anno</b></p>
  `;
  saving.innerHTML = `Risparmio: <b style="color:var(--accent-2)">€${diff.toFixed(2)}/anno</b>`;
}

calc();
</script>
</body>
</html>
